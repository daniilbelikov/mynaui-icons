{{ define "main" }}

<main>
  <section class="overflow-hidden">
    <div
      class="flex gap-1.5 [&_span]:whitespace-pre animate-[slide_infinite_linear_60s] py-3 text-xs text-gray-400"
    >
      <span>Open Source</span>
      <span>·</span>
      <span>MIT Licensed</span>
      <span>·</span>
      <span>24x24 Pixels</span>
      <span>·</span>
      <span>1.5px Stroke</span>
      <span>·</span>
      <span>React Library</span>
      <span>·</span>
      <span>Icon Fonts</span>
      <span>·</span>
      <span>SVG Sprites</span>
      <span>·</span>
      <span>500+ Icons</span>
      <span>·</span>
      <span>Figma File</span>
      <span>·</span>
      <span>Figma Plugin</span>
      <span>·</span>
      <span>Created in Figma</span>
      <span>·</span>
      <span>Optimised SVG</span>
      <span>·</span>
      <span>Variable Stroke</span>
      <span>·</span>
      <span>Free to Use</span>
      <span>·</span>
      <span>Request New Icons</span>
      <span>·</span>
      <span>Pixel-Perfect</span>
      <span>·</span>
      <span>Open Source</span>
      <span>·</span>
      <span>MIT Licensed</span>
      <span>·</span>
      <span>24x24 Pixels</span>
      <span>·</span>
      <span>1.5px Stroke</span>
      <span>·</span>
      <span>React Library</span>
      <span>·</span>
      <span>Icon Fonts</span>
      <span>·</span>
      <span>SVG Sprites</span>
      <span>·</span>
      <span>500+ Icons</span>
      <span>·</span>
      <span>Figma File</span>
      <span>·</span>
      <span>Figma Plugin</span>
      <span>·</span>
      <span>Created in Figma</span>
      <span>·</span>
      <span>Optimised SVG</span>
      <span>·</span>
      <span>Variable Stroke</span>
      <span>·</span>
      <span>Free to Use</span>
      <span>·</span>
      <span>Request New Icons</span>
      <span>·</span>
      <span>Pixel-Perfect</span>
    </div>
  </section>

  <section class="border-y border-gray-900 py-16">
    <div
      class="max-w-7xl md:mx-auto flex md:justify-between md:items-center md:space-x-4 px-4 md:flex-row flex-col space-x-0 space-y-6 md:space-y-0"
    >
      <div
        class="flex flex-col md:flex-row text-center md:text-left items-center gap-4"
      >
        <div class="relative w-16 h-16 shrink-0">
          <div
            class="absolute inset-0 w-12 h-12 bg-blue-500 top-2 left-2 blur-2xl"
          ></div>
          <img
            src="/colorful.png"
            alt="MynaUI Logo"
            class="w-16 h-16 shrink-0 relative bg-gray-900 rounded-2xl"
          />
        </div>
        <div>
          <h1 class="font-semibold">MynaUI Icons</h1>
          <p class="text-gray-400">
            Beautifully crafted open source icons for your next project.
          </p>
        </div>
      </div>
      <div
        class="flex gap-2 text-sm font-medium md:flex-row flex-row-reverse items-center justify-center"
      >
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://github.com/praveenjuge/mynaui-icons/"
          class="transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-950 shrink-0 focus:ring-gray-700 bg-gray-800 text-gray-50 hover:bg-gray-700 border-gray-700 px-4 py-2 rounded border flex space-x-1 items-center"
        >
          <svg
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke="currentColor"
          >
            <path
              d="M9.98 4H8a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6M9.98 4C11.085 4 12 4.895 12 6v2a2 2 0 0 0 2 2h2a2 2 0 0 1 2 2M9.98 4C13.26 4 18 8.764 18 12m-9 4.5h6m-6-3h4"
            />
          </svg>
          <span class="hidden md:inline-flex">Documentation</span>
          <span class="inline-flex md:hidden">Docs</span>
        </a>
        <a
          target="_blank"
          rel="noopener noreferrer"
          href="https://github.com/praveenjuge/mynaui-icons/releases"
          class="transition focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-950 shrink-0 focus:ring-blue-600 bg-blue-600 text-white hover:bg-blue-700 border-blue-600 px-4 py-2 rounded border flex space-x-1 items-center"
        >
          <svg
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke="currentColor"
          >
            <path
              d="M4 16.004V17a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-1M12 4.5v11m3.5-3.5L12 15.5 8.5 12"
            />
          </svg>
          <span>Download <span class="hidden md:inline-flex">Icons</span></span>
        </a>
      </div>
    </div>
  </section>

  <section class="border-b border-gray-900">
    <div
      class="max-w-7xl md:mx-auto flex justify-between items-center space-x-4 px-4"
    >
      <div class="flex items-center gap-3 w-full">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          fill="none"
          viewBox="0 0 24 24"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke="currentColor"
        >
          <path
            d="m16.893 16.92 3.08 3.08m-.889-8.419c0 4.187-3.383 7.581-7.556 7.581-4.172 0-7.555-3.394-7.555-7.58C3.973 7.393 7.356 4 11.528 4c4.173 0 7.556 3.394 7.556 7.581Z"
          />
        </svg>
        <input
          type="search"
          name=""
          id="main-search"
          class="appearance-none py-4 bg-transparent focus:outline-none placeholder:text-gray-500 flex w-full"
          placeholder="Search Icons... (press /)"
        />
      </div>

      <div class="flex gap-6 shrink-0">
        <div class="w-px h-[60px] bg-gray-900 hidden lg:block"></div>

        <div
          class="flex text-gray-400 uppercase text-xs font-semibold gap-2 items-center"
        >
          <span class="sr-only">Size</span>
          <input
            class="rounded-full appearance-none p-px bg-gray-800"
            type="range"
            id="size"
            min="16"
            max="98"
            value="40"
            step="2"
          />
          <span id="size-value" class="tabular-nums text-zinc-100">40</span>
        </div>

        <div class="w-px h-[60px] bg-gray-900 hidden lg:block"></div>

        <div
          class="gap-7 text-gray-200 text-sm font-medium hidden lg:flex shrink-0"
        >
          <div class="flex gap-2 items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke="currentColor"
              class="text-zinc-400"
            >
              <path
                d="M5.7 9.3 3 12l2.7 2.7m3.6-9L12 3l2.7 2.7m0 12.6L12 21l-2.7-2.7m9-9L21 12l-2.7 2.7M3 12h18m-9-9v18"
              />
            </svg>
            <div>
              <p class="text-gray-400 uppercase text-xs font-semibold">Move</p>
              <p>W, A, S, D</p>
            </div>
          </div>
          <div class="flex gap-2 items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke="currentColor"
              class="text-zinc-400"
            >
              <path
                d="M5 13.973h10a4 4 0 0 0 4-4V5M5 13.973l4.78-5.027M5 13.973 9.78 19"
              />
            </svg>
            <div>
              <p class="text-gray-400 uppercase text-xs font-semibold">Open</p>
              <p>Enter</p>
            </div>
          </div>
          <div class="flex gap-2 items-center">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke="currentColor"
              class="text-zinc-400"
            >
              <path
                d="M19.848 12.765C20 12.398 20 11.932 20 11c0-.932 0-1.398-.152-1.765a2 2 0 0 0-1.083-1.083C18.398 8 17.932 8 17 8h-5.8c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C8 9.52 8 10.08 8 11.2V17c0 .932 0 1.398.152 1.765a2 2 0 0 0 1.083 1.083C9.602 20 10.068 20 11 20c.932 0 1.398 0 1.765-.152m7.083-7.083a2 2 0 0 1-1.083 1.083C18.398 14 17.932 14 17 14c-.932 0-1.398 0-1.765.152a2 2 0 0 0-1.083 1.083C14 15.602 14 16.068 14 17c0 .932 0 1.398-.152 1.765a2 2 0 0 1-1.083 1.083m7.083-7.083a10.38 10.38 0 0 1-6.889 7.022l-.194.06M16 8v-.8c0-1.12 0-1.68-.218-2.108a2 2 0 0 0-.874-.874C14.48 4 13.92 4 12.8 4H7.2c-1.12 0-1.68 0-2.108.218a2 2 0 0 0-.874.874C4 5.52 4 6.08 4 7.2v5.6c0 1.12 0 1.68.218 2.108a2 2 0 0 0 .874.874C5.52 16 6.08 16 7.201 16H8"
              />
            </svg>
            <div>
              <p class="text-gray-400 uppercase text-xs font-semibold">
                Copy SVG
              </p>
              <p>C</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section
    class="mx-auto max-w-7xl px-4 grid grid-cols-2 md:grid-cols-5 lg:grid-cols-10 gap-4 text-center text-xs pt-10 pb-24 text-gray-400 [&_svg]:h-10 [&_svg]:w-10 [&_svg]:text-gray-50 [&_a]:rounded [&_a]:flex [&_a]:flex-col [&_a]:items-center [&_a]:space-y-2 [&_a]:py-4 [&_a]:px-1.5 [&_p]:truncate [&_p]:w-full"
    id="main-icon-grid"
  >
    {{ range .Site.RegularPages }}
    <a
      href="{{ .Permalink }}"
      title="{{ .Params.icon }}"
      data-tags='{{  delimit .Params.tags " " }}'
      class="focus:ring-4 focus:outline-none focus:ring-blue-600"
    >
      {{ .Params.svg | safeHTML }}
      <p>{{ .Params.icon }}</p>
    </a>
    {{ end }}
  </section>
</main>

<script>
  const searchInput = document.getElementById("main-search");
  const iconGrid = document.getElementById("main-icon-grid");
  const allIcons = iconGrid.querySelectorAll("a");
  const sizeInput = document.getElementById("size");
  const sizeValue = document.getElementById("size-value");

  // keyboard shortcuts
  document.addEventListener("keydown", (e) => {
    const focusedIcon = document.activeElement;
    const focusedIconIndex = Array.from(allIcons).indexOf(focusedIcon);
    const isSearchInputFocused = searchInput === document.activeElement;

    if (!isSearchInputFocused) {
      switch (e.key) {
        case "/":
          searchInput.focus();
          e.preventDefault();
          break;
        case "w":
          if (focusedIconIndex > 0) {
            allIcons[focusedIconIndex - 10].focus();
          } else {
            allIcons[0].focus();
          }
          break;
        case "s":
          if (focusedIconIndex < allIcons.length - 1) {
            allIcons[focusedIconIndex + 10].focus();
          }
          break;
        case "a":
          if (focusedIconIndex > 0) {
            allIcons[focusedIconIndex - 1].focus();
          } else {
            allIcons[0].focus();
          }
          break;
        case "d":
          if (focusedIconIndex < allIcons.length - 0) {
            allIcons[focusedIconIndex + 1].focus();
          } else {
            allIcons[0].focus();
          }
          break;
        case "c":
          const svg = focusedIcon.querySelector("svg");
          const svgString = new XMLSerializer().serializeToString(svg);
          navigator.clipboard.writeText(svgString);
          // feedback, flash blue background
          focusedIcon.style.backgroundColor = "rgba(66, 153, 225, 0.3)";
          focusedIcon.querySelector("p").innerHTML = "Copied SVG!";
          setTimeout(() => {
            focusedIcon.querySelector("p").innerHTML = focusedIcon.title;
            focusedIcon.style.backgroundColor = "";
          }, 1000);
          break;
      }
    }
  });

  // search icons
  searchInput.addEventListener("input", (e) => {
    const searchValue = e.target.value.toLowerCase();

    allIcons.forEach((icon) => {
      // search using data-tags
      const tags = icon.dataset.tags.toLowerCase();
      if (tags.includes(searchValue)) {
        icon.style.display = "flex";
      } else {
        icon.style.display = "none";
      }
    });
  });

  // update svg size
  sizeInput.addEventListener("input", (e) => {
    const size = e.target.value;
    sizeValue.innerText = size;

    allIcons.forEach((icon) => {
      const svg = icon.querySelector("svg");
      svg.style.width = `${size}px`;
      svg.style.height = `${size}px`;
    });
  });
</script>

{{ end }}
